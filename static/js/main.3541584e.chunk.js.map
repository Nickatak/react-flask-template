{"version":3,"sources":["redux/reducers/auth.reducers.js","redux/reducers/index.js","redux/store/makeStore.js","services/auth.services.js","redux/actions/auth.actions.js","pages/LoginPage/LoginPage.js","App.js","index.js"],"names":["user","require","sendRequest","JSON","parse","localStorage","getItem","initialState","loggedIn","rootReducer","combineReducers","state","action","type","payload","makeStore","createStore","applyMiddleware","thunkMiddleware","login","username","password","a","reqOpts","method","headers","body","stringify","fetch","then","setItem","dispatch","authServices","success","error","connect","React","useState","setUsername","setPassword","console","log","_submitHandler","evt","preventDefault","authActions","_testProtected","_testRefresh","_testLogout","onSubmit","name","placeholder","onChange","target","value","App","store","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qTAGMA,GAHkBC,EAAQ,IAAxBC,YAGKC,KAAKC,MAAMC,aAAaC,QAAQ,UACvCC,EAAeP,EAAO,CAACQ,UAAW,EAAMR,QAAQ,CAAEQ,UAAU,GCClE,IAIeC,EAJKC,YAAgB,CAChCV,KDAG,WAAoD,IAA/BW,EAA8B,uDAAtBJ,EAAcK,EAAQ,uCACtD,OAAQA,EAAOC,MACX,IAAK,kBACD,MAAO,CACHL,UAAW,EACXR,KAAMY,EAAOE,SAErB,IAAK,eAEL,IAAK,SACD,MAAO,CAAEN,UAAU,GAEvB,QACI,OAAOG,MEJJI,EAPG,WACd,OAAOC,YACHP,EACAQ,YAAgBC,O,gCCVlBC,EAAK,uCAAG,WAAOC,EAAUC,GAAjB,eAAAC,EAAA,6DACJC,EAAU,CACZC,OAAQ,OACRC,QAAS,CACL,eAAiB,oBAErBC,KAAMvB,KAAKwB,UAAU,CAAEP,WAAUC,cAN3B,kBAQHO,MAAM,eAAgBL,GAC5BM,MAAK,SAAC7B,GACHK,aAAayB,QAAQ,OAAQ3B,KAAKwB,UAAU3B,QAVtC,2CAAH,wDCCLmB,EAAQ,SAACC,EAAUC,GAerB,OAAO,SAACU,GACJC,EAAab,MAAMC,EAAUC,GAC5BQ,MAAK,SAAC7B,GACH+B,EAjBQ,SAAC/B,GACb,MAAO,CACHa,KAAM,kBACNC,QAASd,GAcAiC,CAAQjC,OAErB,SAACkC,GACGH,EAZG,CACHlB,KAAM,eACNC,QAUiBoB,SCmDdC,iBA7DG,SAAC,GAAkB,IAAhBJ,EAAe,EAAfA,SAAe,EAOAK,IAAMC,SAAS,IAPf,mBAOzBjB,EAPyB,KAOfkB,EAPe,OAQAF,IAAMC,SAAS,IARf,mBAQzBhB,EARyB,KAQfkB,EARe,KAUhCC,QAAQC,IAAIV,GAMZ,IAAMW,EAAc,uCAAG,WAAOC,GAAP,SAAArB,EAAA,sDACnBqB,EAAIC,iBACSb,EAASc,EAAY1B,MAAMC,EAAUC,IAF/B,2CAAH,sDAOdyB,EAAc,uCAAG,WAAOH,GAAP,SAAArB,EAAA,sDACnBqB,EAAIC,iBADe,2CAAH,sDAKdG,EAAY,uCAAG,WAAOJ,GAAP,SAAArB,EAAA,sDACjBqB,EAAIC,iBADa,2CAAH,sDAKZI,EAAW,uCAAG,WAAOL,GAAP,SAAArB,EAAA,sDAChBqB,EAAIC,iBADY,2CAAH,sDAIjB,OACI,gCACI,uBAAMK,SAAUP,EAAhB,UACI,uBAAO7B,KAAK,OAAOqC,KAAK,WAAWC,YAAY,WAAWC,SAAU,SAACT,GAAD,OAASL,EAAYK,EAAIU,OAAOC,UACpG,uBAAOzC,KAAK,WAAWqC,KAAK,WAAWC,YAAY,WAAWC,SAAU,SAACT,GAAD,OAASJ,EAAYI,EAAIU,OAAOC,UACxG,wBAAQzC,KAAK,SAAb,sBAGJ,uBACA,sBAAMoC,SAAUH,EAAhB,SACI,wBAAQjC,KAAK,SAAb,8BAEJ,uBACA,sBAAMoC,SAAUF,EAAhB,SACI,wBAAQlC,KAAK,SAAb,4BAEJ,uBACA,sBAAMoC,SAAUD,EAAhB,SACI,wBAAQnC,KAAK,SAAb,iCCrCD0C,EAfH,WACR,OACI,cAAC,IAAD,CAAUC,MAAOzC,IAAjB,SACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAO0C,KAAK,IAAZ,SACI,cAAC,EAAD,aCfxBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3541584e.chunk.js","sourcesContent":["const { sendRequest } = require(\"../../helpers/request.helpers\");\r\n\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? {loggedIn : true, user} : { loggedIn: false };\r\n\r\nexport function authReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'LOGIN_SUCCEEDED':\r\n            return {\r\n                loggedIn : true,\r\n                user: action.payload,\r\n            };\r\n        case 'LOGIN_FAILED':\r\n            return { loggedIn: false };\r\n        case 'LOGOUT':\r\n            return { loggedIn: false };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { authReducer } from './auth.reducers';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    user : authReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport rootReducer from '../reducers';\r\n\r\n/**\r\n * This is a factory just incase want to override anything with thunks/etc. later on.\r\n * ^ YOu see, this is why we make factories, it's not even past day 1 and we're overriding this.\r\n */\r\nconst makeStore = () => {\r\n    return createStore(\r\n        rootReducer,\r\n        applyMiddleware(thunkMiddleware)\r\n    );\r\n}\r\n\r\nexport default makeStore;\r\n","\r\nconst login = async (username, password) => {\r\n    const reqOpts = {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type' : 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n    }\r\n    return fetch('/auth/obtain', reqOpts)\r\n    .then((user) => {\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n    });\r\n}\r\n\r\nexport {\r\n    login,\r\n}\r\n","import { authServices } from '../../services';\r\n\r\nconst login = (username, password) => {\r\n    const success = (user) => {\r\n        return {\r\n            type: 'LOGIN_SUCCEEDED',\r\n            payload: user,\r\n        };\r\n    }\r\n\r\n    const failure = (err) => {\r\n        return {\r\n            type: 'LOGIN_FAILED',\r\n            payload: err,\r\n        }\r\n    }\r\n\r\n    return (dispatch) => {\r\n        authServices.login(username, password)\r\n        .then((user) => {\r\n            dispatch(success(user));\r\n        },\r\n        (error) => {\r\n            dispatch(failure(error));\r\n        });\r\n    }\r\n}\r\n\r\nexport {\r\n    login,\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { authActions } from '../../redux/actions';\r\n\r\n\r\n/**\r\n * Login page layout as a component.\r\n * \r\n * @param {object} props\r\n * @param {Callback} props.dispatch - React-redux's store.dispatch()\r\n * @constructor\r\n */\r\nconst LoginPage = ({ dispatch }) => {\r\n\r\n    /**\r\n     * React hooks.\r\n     *  \r\n     * Hooks so we can use controlled inputs.\r\n     */\r\n    const [username, setUsername] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    console.log(dispatch);\r\n    /**\r\n     * Private submission handler for our login form.\r\n     * \r\n     * @param {object} evt - Event object fired by the DOM.\r\n     */\r\n    const _submitHandler = async (evt) => {\r\n        evt.preventDefault();\r\n        const blah = dispatch(authActions.login(username, password));\r\n\r\n\r\n    }\r\n\r\n    const _testProtected = async (evt) => {\r\n        evt.preventDefault();\r\n\r\n    }\r\n\r\n    const _testRefresh = async (evt) => {\r\n        evt.preventDefault();\r\n\r\n    }\r\n\r\n    const _testLogout = async (evt) => {\r\n        evt.preventDefault();\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={_submitHandler}>\r\n                <input type=\"text\" name=\"username\" placeholder=\"username\" onChange={(evt) => setUsername(evt.target.value)}></input>\r\n                <input type=\"password\" name=\"password\" placeholder=\"password\" onChange={(evt) => setPassword(evt.target.value)}></input>\r\n                <button type=\"submit\">Login</button>\r\n            </form>\r\n\r\n            <hr />\r\n            <form onSubmit={_testProtected}>\r\n                <button type=\"submit\">Test Protected</button>\r\n            </form>\r\n            <hr />\r\n            <form onSubmit={_testRefresh}>\r\n                <button type=\"submit\">Test Refresh</button>\r\n            </form>\r\n            <hr />\r\n            <form onSubmit={_testLogout}>\r\n                <button type=\"submit\">Test Logout</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect()(LoginPage);\r\n","import React from 'react';\nimport {\n    BrowserRouter,\n    Switch,\n    Route\n} from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\n\nimport makeStore from'./redux/store';\n\nimport LoginPage from './pages/LoginPage';\n\n/**\n * Top-level component called directly by ReactDOM.render().\n */\nconst App = () => {\n    return (\n        <Provider store={makeStore()}>\n            <BrowserRouter>\n                <Switch>\n                    <Route path='/'>\n                        <LoginPage />\n                    </Route>\n                </Switch>\n            </BrowserRouter>\n        </Provider>\n\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n/**\n * Entry point for our react application.\n */\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}